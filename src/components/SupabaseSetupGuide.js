import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import { X, ExternalLink, Copy, Check, AlertTriangle, Database, Key } from 'lucide-react';
const SupabaseSetupGuide = ({ onClose }) => {
    const [copiedStep, setCopiedStep] = useState(null);
    const copyToClipboard = (text, step) => {
        navigator.clipboard.writeText(text);
        setCopiedStep(step);
        setTimeout(() => setCopiedStep(null), 2000);
    };
    const corsOrigins = [
        'http://localhost:5173',
        'https://*.webcontainer-api.io',
        'https://*.bolt.new',
        'https://seu-dominio.vercel.app'
    ];
    return (_jsxs("div", { className: "fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4", children: [_jsxs("div", { className: "bg-gray-900 rounded-lg border border-cyan-500/50 p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto", children: [_jsxs("div", { className: "flex items-center justify-between mb-6", children: [_jsxs("div", { className: "flex items-center space-x-3", children: [_jsx("div", { className: "cyber-border rounded-full p-2", children: _jsx(Database, { className: "w-6 h-6 text-cyan-400" }) }), _jsxs("div", { children: [_jsx("h2", { className: "text-2xl font-bold text-cyan-400", children: "Configura\u00E7\u00E3o do Supabase" }), _jsx("p", { className: "text-gray-400", children: "Guia completo para resolver problemas de CORS e configura\u00E7\u00E3o" })] })] }), _jsx("button", { onClick: onClose, className: "p-2 rounded-lg text-gray-400 hover:text-white hover:bg-gray-800 transition-colors", children: _jsx(X, { className: "w-6 h-6" }) })] }), _jsx("div", { className: "bg-red-500/20 border border-red-500/30 rounded-lg p-4 mb-6", children: _jsxs("div", { className: "flex items-start space-x-3", children: [_jsx(AlertTriangle, { className: "w-5 h-5 text-red-400 mt-0.5" }), _jsxs("div", { children: [_jsx("h3", { className: "text-red-400 font-semibold mb-2", children: "Erro de CORS Detectado" }), _jsx("p", { className: "text-gray-300 text-sm", children: "O erro \"Failed to fetch\" indica que o Supabase est\u00E1 bloqueando requisi\u00E7\u00F5es do seu dom\u00EDnio. Siga os passos abaixo para resolver." })] })] }) }), _jsxs("div", { className: "space-y-6", children: [_jsxs("div", { className: "bg-gray-800/50 p-6 rounded-lg border border-cyan-500/30", children: [_jsxs("h3", { className: "text-lg font-bold text-cyan-400 mb-4 flex items-center", children: [_jsx("span", { className: "bg-cyan-500 text-black rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3", children: "1" }), "Criar Projeto no Supabase"] }), _jsxs("div", { className: "space-y-3", children: [_jsx("p", { className: "text-gray-300", children: "Se ainda n\u00E3o tem um projeto:" }), _jsxs("ol", { className: "list-decimal list-inside space-y-2 text-sm text-gray-400 ml-4", children: [_jsxs("li", { children: ["Acesse ", _jsx("a", { href: "https://supabase.com", target: "_blank", rel: "noopener noreferrer", className: "text-cyan-400 hover:underline", children: "supabase.com" })] }), _jsx("li", { children: "Clique em \"Start your project\"" }), _jsx("li", { children: "Fa\u00E7a login com GitHub" }), _jsx("li", { children: "Clique em \"New Project\"" }), _jsx("li", { children: "Escolha um nome e senha para o banco" }), _jsx("li", { children: "Aguarde a cria\u00E7\u00E3o (2-3 minutos)" })] })] })] }), _jsxs("div", { className: "bg-gray-800/50 p-6 rounded-lg border border-red-500/30", children: [_jsxs("h3", { className: "text-lg font-bold text-red-400 mb-4 flex items-center", children: [_jsx("span", { className: "bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3", children: "2" }), "Configurar CORS (CR\u00CDTICO)"] }), _jsxs("div", { className: "space-y-4", children: [_jsx("p", { className: "text-gray-300", children: "No painel do Supabase:" }), _jsxs("ol", { className: "list-decimal list-inside space-y-2 text-sm text-gray-400 ml-4", children: [_jsxs("li", { children: ["V\u00E1 em ", _jsx("strong", { className: "text-white", children: "Settings \u2192 API" })] }), _jsxs("li", { children: ["Role at\u00E9 a se\u00E7\u00E3o ", _jsx("strong", { className: "text-white", children: "\"CORS Origins\"" })] }), _jsx("li", { children: "Adicione as seguintes origens (uma por linha):" })] }), _jsxs("div", { className: "bg-black/50 p-4 rounded-lg border border-gray-600", children: [_jsxs("div", { className: "flex items-center justify-between mb-2", children: [_jsx("span", { className: "text-sm font-medium text-gray-300", children: "Origens CORS para adicionar:" }), _jsxs("button", { onClick: () => copyToClipboard(corsOrigins.join('\n'), 'cors'), className: "flex items-center space-x-1 text-cyan-400 hover:text-cyan-300 text-sm", children: [copiedStep === 'cors' ? _jsx(Check, { className: "w-4 h-4" }) : _jsx(Copy, { className: "w-4 h-4" }), _jsx("span", { children: copiedStep === 'cors' ? 'Copiado!' : 'Copiar' })] })] }), _jsx("div", { className: "space-y-1 text-sm font-mono", children: corsOrigins.map((origin, index) => (_jsx("div", { className: "text-cyan-400", children: origin }, index))) })] }), _jsx("div", { className: "bg-yellow-500/20 border border-yellow-500/30 rounded p-3", children: _jsxs("p", { className: "text-yellow-400 text-sm", children: [_jsx("strong", { children: "Importante:" }), " Substitua \"seu-dominio.vercel.app\" pelo seu dom\u00EDnio real quando fizer deploy."] }) })] })] }), _jsxs("div", { className: "bg-gray-800/50 p-6 rounded-lg border border-green-500/30", children: [_jsxs("h3", { className: "text-lg font-bold text-green-400 mb-4 flex items-center", children: [_jsx("span", { className: "bg-green-500 text-black rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3", children: "3" }), "Obter Credenciais"] }), _jsxs("div", { className: "space-y-4", children: [_jsxs("p", { className: "text-gray-300", children: ["No painel do Supabase, v\u00E1 em ", _jsx("strong", { children: "Settings \u2192 API" }), ":"] }), _jsxs("div", { className: "grid md:grid-cols-2 gap-4", children: [_jsxs("div", { className: "bg-black/50 p-4 rounded-lg border border-gray-600", children: [_jsxs("div", { className: "flex items-center space-x-2 mb-2", children: [_jsx(Database, { className: "w-4 h-4 text-green-400" }), _jsx("span", { className: "text-sm font-medium text-gray-300", children: "Project URL" })] }), _jsx("code", { className: "text-xs text-green-400 break-all", children: "https://xxxxxxxxxxx.supabase.co" })] }), _jsxs("div", { className: "bg-black/50 p-4 rounded-lg border border-gray-600", children: [_jsxs("div", { className: "flex items-center space-x-2 mb-2", children: [_jsx(Key, { className: "w-4 h-4 text-blue-400" }), _jsx("span", { className: "text-sm font-medium text-gray-300", children: "Anon Key" })] }), _jsx("code", { className: "text-xs text-blue-400 break-all", children: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." })] })] })] })] }), _jsxs("div", { className: "bg-gray-800/50 p-6 rounded-lg border border-purple-500/30", children: [_jsxs("h3", { className: "text-lg font-bold text-purple-400 mb-4 flex items-center", children: [_jsx("span", { className: "bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3", children: "4" }), "Configurar Vari\u00E1veis de Ambiente"] }), _jsxs("div", { className: "space-y-4", children: [_jsxs("p", { className: "text-gray-300", children: ["Edite o arquivo ", _jsx("code", { className: "bg-gray-700 px-2 py-1 rounded", children: ".env" }), " na raiz do projeto:"] }), _jsxs("div", { className: "bg-black/50 p-4 rounded-lg border border-gray-600", children: [_jsxs("div", { className: "flex items-center justify-between mb-2", children: [_jsx("span", { className: "text-sm font-medium text-gray-300", children: "Conte\u00FAdo do arquivo .env:" }), _jsxs("button", { onClick: () => copyToClipboard(`VITE_SUPABASE_URL=https://seu-projeto-id.supabase.co\nVITE_SUPABASE_ANON_KEY=sua_chave_anonima_aqui`, 'env'), className: "flex items-center space-x-1 text-cyan-400 hover:text-cyan-300 text-sm", children: [copiedStep === 'env' ? _jsx(Check, { className: "w-4 h-4" }) : _jsx(Copy, { className: "w-4 h-4" }), _jsx("span", { children: copiedStep === 'env' ? 'Copiado!' : 'Copiar' })] })] }), _jsx("pre", { className: "text-sm text-cyan-400", children: `VITE_SUPABASE_URL=https://seu-projeto-id.supabase.co
VITE_SUPABASE_ANON_KEY=sua_chave_anonima_aqui` })] }), _jsx("div", { className: "bg-blue-500/20 border border-blue-500/30 rounded p-3", children: _jsxs("p", { className: "text-blue-400 text-sm", children: [_jsx("strong", { children: "Dica:" }), " Substitua os valores pelos dados reais do seu projeto Supabase."] }) })] })] }), _jsxs("div", { className: "bg-gray-800/50 p-6 rounded-lg border border-yellow-500/30", children: [_jsxs("h3", { className: "text-lg font-bold text-yellow-400 mb-4 flex items-center", children: [_jsx("span", { className: "bg-yellow-500 text-black rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3", children: "5" }), "Executar Migra\u00E7\u00F5es do Banco"] }), _jsxs("div", { className: "space-y-4", children: [_jsxs("p", { className: "text-gray-300", children: ["No painel do Supabase, v\u00E1 em ", _jsx("strong", { children: "SQL Editor" }), ":"] }), _jsxs("ol", { className: "list-decimal list-inside space-y-2 text-sm text-gray-400 ml-4", children: [_jsx("li", { children: "Clique em \"SQL Editor\" no menu lateral" }), _jsx("li", { children: "Clique em \"New Query\"" }), _jsxs("li", { children: ["Copie e cole o conte\u00FAdo do arquivo ", _jsx("code", { children: "supabase/migrations/20250619011237_azure_wood.sql" })] }), _jsx("li", { children: "Clique em \"Run\" para executar" }), _jsx("li", { children: "Verifique se as tabelas foram criadas em \"Table Editor\"" })] }), _jsx("div", { className: "bg-green-500/20 border border-green-500/30 rounded p-3", children: _jsxs("p", { className: "text-green-400 text-sm", children: [_jsx("strong", { children: "Sucesso:" }), " Voc\u00EA deve ver as tabelas: projects, testimonials, talks, site_settings"] }) })] })] }), _jsxs("div", { className: "bg-gray-800/50 p-6 rounded-lg border border-cyan-500/30", children: [_jsxs("h3", { className: "text-lg font-bold text-cyan-400 mb-4 flex items-center", children: [_jsx("span", { className: "bg-cyan-500 text-black rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3", children: "6" }), "Testar Conex\u00E3o"] }), _jsxs("div", { className: "space-y-3", children: [_jsx("p", { className: "text-gray-300", children: "Ap\u00F3s configurar tudo:" }), _jsxs("ol", { className: "list-decimal list-inside space-y-2 text-sm text-gray-400 ml-4", children: [_jsx("li", { children: "Recarregue a p\u00E1gina (F5)" }), _jsx("li", { children: "Verifique o status do Supabase no canto superior direito" }), _jsx("li", { children: "Deve aparecer \"Supabase: Conectado\" em verde" }), _jsx("li", { children: "Os dados do site devem carregar normalmente" })] })] })] })] }), _jsxs("div", { className: "mt-8 bg-gray-800/30 p-4 rounded-lg border border-gray-600", children: [_jsx("h4", { className: "text-white font-semibold mb-3", children: "Links \u00DAteis" }), _jsxs("div", { className: "grid md:grid-cols-2 gap-3 text-sm", children: [_jsxs("a", { href: "https://supabase.com/dashboard", target: "_blank", rel: "noopener noreferrer", className: "flex items-center space-x-2 text-cyan-400 hover:text-cyan-300", children: [_jsx(ExternalLink, { className: "w-4 h-4" }), _jsx("span", { children: "Dashboard Supabase" })] }), _jsxs("a", { href: "https://supabase.com/docs/guides/getting-started", target: "_blank", rel: "noopener noreferrer", className: "flex items-center space-x-2 text-cyan-400 hover:text-cyan-300", children: [_jsx(ExternalLink, { className: "w-4 h-4" }), _jsx("span", { children: "Documenta\u00E7\u00E3o Oficial" })] })] })] }), _jsx("div", { className: "mt-6 pt-4 border-t border-gray-700 text-center", children: _jsx("p", { className: "text-gray-400 text-sm", children: "Ap\u00F3s seguir todos os passos, o erro de CORS deve ser resolvido e o site funcionar\u00E1 normalmente." }) })] }), _jsx("style", { dangerouslySetInnerHTML: {
                    __html: `
          .cyber-border {
            background: linear-gradient(45deg, #00ffff, #ff00ff, #ffff00, #00ffff);
            background-size: 400% 400%;
            animation: gradient-shift 3s ease infinite;
            padding: 2px;
          }
          
          @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
          }
        `
                } })] }));
};
export default SupabaseSetupGuide;
